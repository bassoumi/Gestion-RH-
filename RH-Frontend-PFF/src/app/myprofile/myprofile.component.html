<br>
<!-- Lien vers Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

<div class="cv-container mt-5">
  <div class="left-side bg-gray">
    <div class="profile-image-container">
      <img *ngIf="currentUser.image" [src]="currentUser.image" alt="User Image" class="profile-image">
    </div>
    <ul class="mt-3">
      <h3 class="mb-3">Vos Information</h3>
      <li class="mb-2 ml-5"> <strong>Email :</strong> {{currentUser.email}}</li>
      <li class="mb-2 ml-5"> <strong>Département :</strong> {{currentUser.department}}</li>
      <li class="mb-2 ml-5"> <strong>Poste :</strong> {{currentUser.job}}</li>
      <li class="mb-2 ml-5"> <strong>Phone :</strong> {{currentUser.phone}}</li>
    </ul>
  </div>
  
  <div class="right-side">
    <section id="services" class="services section">
      <br>
      <div class="container section-title">
        <p>Bienvenue M./Mme : {{ username }}</p>
      </div>

      <div class="container">
        <br><br>
        <div class="row gy-4">
          <div class="col-lg-4 col-md-6" data-aos-delay="100">
            <div class="service-item position-relative bg-gray-border">
              <a routerLink="PasswordRest" class="stretched-link">
                <div class="icon"></div>

                <h3>Changer votre mot de passe</h3>
              </a>
              <p>Si vous avez besoin de modifier votre mot de passe actuel, vous pouvez le faire en toute sécurité via cette fonctionnalité.</p>
            </div>
          </div>
          
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
            <div class="service-item position-relative bg-gray-border">
              <div class="icon"></div>
              <a routerLink="congé" class="stretched-link">
                <h3>Envoyé Votre demande Congée</h3>
              </a>
              <p>Utilisez cette fonctionnalité pour soumettre une demande de congé.</p>
            </div>
          </div>

          <!-- Afficher la section en fonction de la présence de demandes -->
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200" *ngIf="demandesPresentes">
            <div class="service-item position-relative bg-gray-border has-notification">
              <div class="notification-icon"></div>
              <a routerLink="historique" class="stretched-link">
                <div class="icon"></div>
                <h3>Historique de Demande</h3>
              </a>
              <p>Accédez à cette section pour consulter l'historique de toutes les demandes de congé que vous avez soumises précédemment.</p>
            </div>
          </div>
          
          <!-- Afficher cette section si aucune demande n'est présente -->
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200" *ngIf="!demandesPresentes">
            <div class="service-item position-relative bg-gray-border has-notification">
              <div class="icon"></div>
              <a routerLink="historique" class="stretched-link">
                <h3>Historique de Demande</h3>
              </a>
              <p>Vous n'avez aucune demande de congé pour le moment.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Affichage des formations -->
    <div class="container section-title mt-5">
      <p>Les Formations :</p>
    </div>
    <br><br>

    <div class="slider-container">
      <div class="slider-wrapper">
        <div class="slide" *ngFor="let formation of formations; let i = index" [class.active]="i === currentSlide">
          <div class="slide-content">
    
            <img [src]="formation.image" style="height: 250px;" alt="{{formation.title}}" />
          
            <div class="title">{{formation.title}}
            <br>
            {{formation.description| truncate: 10}} 
            <div class="interested">
              <div class="interest-link">
                <span class="star">&#9733;</span>
                <a (click)="interesseClicked(formation.title)">
                  intéressé
                </a>          </div>
          
          </div>
        </div>
      </div>
      <button class="nav prev" (click)="prevSlide()">&#10094;</button>
      <button class="nav next" (click)="nextSlide()">&#10095;</button>
    </div>
    
    
    
    
    
      </div>
    </div>
    
  </div>
</div>
